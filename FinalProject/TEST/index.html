<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<title>é±¼ç¼¸æ¨¡å‹ Â· Ray Tracing Pro</title>

<style>
/* ========== 1. åŸºç¡€å¸ƒå±€ (ä¿æŒä¸å˜) ========== */
html, body {
    margin: 0; height: 100%; background: #0b141a;
    font-family: "Segoe UI", sans-serif; color: #e6f7ff; overflow: hidden;
}

#app {
    width: 98vw; height: 96vh; margin: 2vh auto;
    display: flex; flex-direction: column;
    background: #050c10; border-radius: 18px;
    box-shadow: 0 30px 80px rgba(0, 0, 0, 0.8); overflow: hidden;
}

#header {
    height: 60px; display: flex; align-items: center; justify-content: center;
    font-size: 22px; font-weight: 700; letter-spacing: 8px;
    background: linear-gradient(180deg, #102c3a, #09161d);
    border-bottom: 1px solid rgba(120, 200, 255, 0.15);
}

#main { flex: 1; display: flex; overflow: hidden; }

/* ========== 2. å·¦ä¾§ä¾§è¾¹æ æ ·å¼ ========== */
#sidebar {
    width: 26%; min-width: 250px; padding: 20px;
    background: rgba(10, 30, 40, 0.95);
    border-right: 1px solid rgba(120, 200, 255, 0.18);
    display: flex; flex-direction: column; gap: 15px; overflow-y: auto;
}

.card {
    padding: 18px; background: rgba(30, 80, 100, 0.3);
    border-radius: 12px; border: 1px solid rgba(120, 200, 255, 0.2);
}

.card h3 { margin: 0 0 12px; font-size: 14px; color: #00f2ff; text-transform: uppercase; }
.card p { margin: 8px 0; font-size: 13px; display: flex; justify-content: space-between; }
.key { background: rgba(0, 242, 255, 0.1); border: 1px solid rgba(0, 242, 255, 0.4); color: #00f2ff; padding: 2px 6px; border-radius: 4px; font-family: monospace; }
strong { color: #8af6b3; font-family: monospace; }

/* ========== 3. æ ¸å¿ƒï¼šå¼ºè¡Œâ€œé©¯æœâ€ lil-gui çš„ CSS ========== */
/* 
   å³ä½¿ main.js æŠŠ GUI ç”Ÿæˆåœ¨ body ä¸‹ï¼Œåªè¦æˆ‘ä»¬æŠŠå®ƒæŒªè¿›ä¾§è¾¹æ ï¼Œ
   è¿™æ®µ CSS å°±èƒ½å–æ¶ˆå®ƒçš„æ‚¬æµ®çŠ¶æ€ï¼Œè®©å®ƒåƒæ™®é€šå¡ç‰‡ä¸€æ ·æ’ç‰ˆã€‚
*/
.lil-gui.root {
    position: static !important; /* ğŸ”´ å…³é”®ï¼šå–æ¶ˆ fixed å®šä½ */
    width: 100% !important;      /* ğŸ”´ å…³é”®ï¼šæ’‘æ»¡ä¾§è¾¹æ å®½åº¦ */
    margin-top: 10px;
    box-shadow: none !important;
    border: 1px solid rgba(120, 200, 255, 0.2) !important;
    border-radius: 12px !important;
}

/* é€‚é…ä¾§è¾¹æ çš„æš—è‰²é£æ ¼ */
.lil-gui {
    --background-color: rgba(12, 40, 55, 0.5);
    --title-background-color: rgba(0, 120, 160, 0.4);
}

/* ========== 4. å³ä¾§æ¸¸æˆåŒº ========== */
#viewport { flex: 1; background: #000; position: relative; }
#container { width: 100%; height: 100%; }

</style>
</head>

<body>

<div id="app">
    <div id="header">é±¼ç¼¸ç”Ÿæ€ç³»ç»Ÿ</div>
    <div id="main">
        <div id="sidebar">
            <div class="card">
                <h3>æ¸²æŸ“æ¨¡å¼</h3>
                <p>æ¸²æŸ“å¼•æ“ <strong id="renderStatus">Path Tracing</strong></p>
                <p>å®æ—¶é‡‡æ · <strong id="sampleCount">0</strong></p>
                <p>å…‰çº¿åå¼¹ <strong id="bounceCount">4</strong></p>
            </div>

            <div class="card">
                <h3>æ“ä½œæŒ‡å—</h3>
                <p>ç§»åŠ¨ç›¸æœº <span><span class="key">W</span><span class="key">A</span><span class="key">S</span><span class="key">D</span></span></p>
                <p>å‡é™ç›¸æœº <span><span class="key">Q</span><span class="key">E</span></p></span></p>
                <p>åˆ‡æ¢æ¨¡å¼ <span class="key">P</span></p>
            </div>

            <!-- ğŸ‘‡ GUI æœ€ç»ˆä¼šè¢«â€œæ¬è¿â€åˆ°è¿™é‡Œ -->
            <div id="gui-anchor"></div>

            <div class="card">
                <p>å¦‚ä½•é’“é±¼ï¼Ÿ</p>
                <p>å‹¾é€‰â€œé’“é±¼æ¨¡å¼â€ï¼Œé±¼ç«¿å‡ºç°</p>
                <p>å³é”®ç‚¹å‡»é±¼ç¼¸æ°´é¢ä¸Šä¸€ç‚¹ï¼Œ</p>
                <p>ç­‰å¾…ç‰‡åˆ»ï¼Œé±¼ä¸Šé’©åç‚¹å‡»å³é”®ï¼Œå³å¯æèµ·é±¼ç«¿</p>
            </div>
        </div>

        <div id="viewport">
            <div id="container"></div>
        </div>
    </div>
</div>

<!-- è¿™é‡Œçš„è„šæœ¬åœ¨ä¸ä¿®æ”¹ main.js çš„æƒ…å†µä¸‹ï¼Œå·å·æŠŠç”Ÿæˆçš„ GUI æŒªä¸ªä½ç½® -->
<script>
    // ä½¿ç”¨è§‚å¯Ÿå™¨ç›‘å¬ body æ ‡ç­¾ï¼Œä¸€æ—¦ main.js ç”Ÿæˆäº† .lil-gui.rootï¼Œæˆ‘ä»¬å°±æŠŠå®ƒæŠ“èµ°
    const observer = new MutationObserver((mutations) => {
        const gui = document.querySelector('.lil-gui.root');
        const anchor = document.getElementById('gui-anchor');
        if (gui && anchor && gui.parentElement !== anchor) {
            anchor.appendChild(gui); // ğŸ”´ å°†å…¶ä» body å‰ªåˆ‡å¹¶ç²˜è´´åˆ°ä¾§è¾¹æ 
            console.log("å·²æˆåŠŸå°† GUI æ¬è¿è‡³ä¾§è¾¹æ ï¼");
            // æ‰¾åˆ°åå¯ä»¥åœæ­¢è§‚å¯Ÿä»¥èŠ‚çœæ€§èƒ½
            // observer.disconnect(); 
        }
    });

    observer.observe(document.body, { childList: true, subtree: true });
</script>

<!-- åŸæœ‰çš„å¯¼å…¥æ˜ å°„å’Œè„šæœ¬å¼•ç”¨ -->
<script type="importmap">
{
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.module.js",
    "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.152.2/examples/jsm/",
    "lil-gui": "https://cdn.jsdelivr.net/npm/lil-gui@0.18.1/dist/lil-gui.esm.min.js"
  }
}
</script>
<script type="module" src="./main.js"></script>

</body>
</html>


